---
layout: l_right_sidebar
bodyClass: "membership-tiers"
sidebar: "sidebar_membership_tiers.html"
title: "Become a Member"
showTitle: true
card: "membership-form-councils"
---
<h2 class="heading border-1-bottom text-primary">Professional Plus</h2>



{% include components/step-card.html %}


<!--Membership Form-->

<h3 class="lead">Select 3 Councils</h3>

<form action="" method="post" role="form">
	<div class="list-group" id="sortable">
		{% assign dataname = site.data.councils.councils %}
		{% for council in dataname %}
		<div href="#" class="" id="{{council.councilCode}}">
			<h4 class="lead ">{{council.councilCode}}: {{council.name}}</h4>
			<p class="">
				<label class="checkbox" for="{{council.councilCode}}">
			<span class="icons">
				<span class="first-icon"></span>
				<span class="second-icon fa fa-check"></span>
			</span>
					<input value="" id="{{council.councilCode}}" name="{{council.councilCode}}" data-toggle="checkbox" type="checkbox">
					<span class="">
						{{council.snippet}}
					</span>
				</label>
			</p>
		</div>
		{% endfor %}

	</div>

	<!--Submit-->

	<div class="col-sm-12 spacer">

		<a href="membership-form-checkout.html" type="submit" class="btn btn-primary"> Next </a>
	</div>

</form>



<!--Activate the sort-->
<script>
	$(function() {
		//On page load make sure all input checkbox is reset
		$('input:checkbox').prop('checked',false);

		//councilList obj to hold selected councils
		var councilsList = {
			_array: [],
			makeList: function(){
				councilsList._array = [];
				$('.ui-sortable-handle.checked').each(function(){
					councilsList._array.push($(this).attr('id'));
				});
				console.log(councilsList._array);
			}
		};

		$( "#sortable" ).sortable({
			update:function(){
				councilsList.makeList();
			}
		});

		//Checkbox
		var hideMe = function(){
			var $elems = $("input:checkbox:not(:checked)");
			$elems.each(function(){
				$(this).prop('disabled',true).closest('.checkbox').addClass('disabled').parents('.ui-sortable-handle').addClass('disabled');
				console.log($(this));
			});
			councilsList.makeList();
		};
		var showMe = function(){
			var $elems = $("input:checkbox:not(:checked)");
			$elems.each(function(){
				$(this).prop('disabled',false).closest('.checkbox').removeClass('disabled').parents('.ui-sortable-handle').removeClass('disabled');
				console.log($(this));
			});
		};
		var countChecked = function() {
			var n = $( "input:checkbox:checked" ).length;
			setTimeout(function(){
				if (n >= 3) {
					hideMe();
				}else{
					showMe();
				}
			},200);
		};

		$('.checkbox').on('toggle',function(){
			countChecked();
			$(this).parents('.ui-sortable-handle').toggleClass('checked');
		});
	});
</script>


